{"version":3,"sources":["Mytool.js"],"names":[],"mappings":"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","file":"Mytool-compiled.js","sourcesContent":["/**\n * Created by johnsontx on 2017/1/19.\n */\nlet Tools={},target=\"https://cnodejs.org/api/v1/\";\nTools.ajax = (sendData)=>{\n    let setData ={\n      url:window.location.pathname,\n      type:'GET',\n      async:true,\n      data:{},\n      dataType:'json',\n      success:(text)=>{},\n      error:()=>{}\n    };\n    for(let i in sendData){\n       setData[i] = sendData[i]\n    }\n    let sData=[],cData = '';\n     for(let i in setData.data){\n       sData.push(i + \"=\" + setData.data[i])\n     }\n    cData = sData.join('&');\n    setData.type = setData.type.toUpperCase();\n    let xhr = new  XMLHttpRequest();\n  try{\n    if(setData.type == 'GET'){\n      let gurl = setData.url + \"?\" + cData;\n     xhr.open(setData.type,gurl + \"&\" + new Date().getTime(),setData.async);\n      xhr.send()\n    }else{\n      xhr.open(setData.type,setData.url,setData.async);\n      xhr.setRequestHeader('Content-type','application/x-www-form-urlencoded');\n      xhr.send(cData)\n    }\n  }catch (e){\n    return httpEnd();\n  }\n\n  if(setData.async){\n    xhr.addEventListener('readystatechange',httpEnd,false)\n  }\n\n  function httpEnd() {\n    let head = xhr.getAllResponseHeaders(),response = xhr.responseText;\n    if (xhr.readyState == 4) {\n      if (/application\\/json/.test(head) || setData.dataType === 'json' && /^(\\{|\\[)([\\s\\S])*?(\\]|\\})$/.test(response)) {\n        response = JSON.parse(response);\n      }\n    }\n    if (xhr.status == 200) {\n      setData.success(response, setData, xhr);\n    } else {\n      setData.error(setData, xhr);\n    }\n  }\n\n  xhr.end = () => {\n    xhr.removeEventListener('readystatechange',httpEnd,false)\n  };\n\n  return xhr;\n};\n\nTools.get = (pathname,data,success,error)=>{\n     let sendData = {\n       url:pathname,\n       type:'GET',\n       data:data,\n       success:success || function(){},\n       error:error || function(){}\n     };\n  return Tools.ajax(sendData)\n};\nTools.post = (pathname,data,success,error)=>{\n      let sendData = {\n        url:target + pathname,\n        data:data,\n        type:\"POST\",\n        success:success || function(){},\n        error:error || function(){}\n      } ;\n  return Tools.ajax(sendData)\n};\n\n/**\n * 格式化时间\n *\n * @param {any} t\n * @returns\n */\nTools.formatDate = function (str) {\n  var date = new Date(str);\n  var time = new Date().getTime() - date.getTime(); //现在的时间-传入的时间 = 相差的时间（单位 = 毫秒）\n  if (time < 0) {\n    return '';\n  } else if (time / 1000 < 60) {\n    return '刚刚';\n  } else if ((time / 60000) < 60) {\n    return parseInt((time / 60000)) + '分钟前';\n  } else if ((time / 3600000) < 24) {\n    return parseInt(time / 3600000) + '小时前';\n  } else if ((time / 86400000) < 31) {\n    return parseInt(time / 86400000) + '天前';\n  } else if ((time / 2592000000) < 12) {\n    return parseInt(time / 2592000000) + '月前';\n  } else {\n    return parseInt(time / 31536000000) + '年前';\n  }\n};\n/**\n * 本地数据存储或读取\n *\n * @param {any} key\n * @param {any} value\n * @returns\n */\nTools.localItem = function (key, value) {\n  if (arguments.length == 1) {\n    return localStorage.getItem(key);\n  } else {\n    return localStorage.setItem(key, value);\n  }\n}\n\n/**\n * 删除本地数据\n *\n * @param {any} key\n * @returns\n */\nTools.removeLocalItem = function (key) {\n  if (key) {\n    return localStorage.removeItem(key);\n  }\n  return localStorage.removeItem();\n}\n\nexport {Tools};\n"]}