{"version":3,"sources":["lazyload.js"],"names":[],"mappings":"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","file":"lazyload-compiled.js","sourcesContent":["/*!\n * Lazy Load - jQuery plugin for lazy loading images\n *\n * Copyright (c) 2007-2015 Mika Tuupola\n *\n * Licensed under the MIT license:\n *   http://www.opensource.org/licenses/mit-license.php\n *\n * Project home:\n *   http://www.appelsiini.net/projects/lazyload\n *\n * Version:  1.9.7\n *\n */\n/*!\n * An jQuery | zepto plugin for lazy loading images.\n * author -> jieyou\n * see https://github.com/jieyou/lazyload\n * use some tuupola's code https://github.com/tuupola/jquery_lazyload (BSD)\n * use component's throttle https://github.com/component/throttle (MIT)\n */\n/* ;(function(factory){\n else if(typeof define === 'function' && define.amd){ // AMD\n // you may need to change `define([------>'jquery'<------], factory)`\n // if you use zepto, change it rely name, such as `define(['zepto'], factory)`\n define(['jquery'], factory)\n // define(['zepto'], factory)\n }else{ // Global\n factory(window.jQuery || window.Zepto)\n }\n })*/\nmodule.exports = function($,undefined){\n  var w = window,\n    $window = $(w),\n    defaultOptions = {\n      threshold                   : 0,\n      failure_limit               : 0,\n      event                       : 'scroll',\n      effect                      : 'show',\n      effect_params               : null,\n      container                   : w,\n      data_attribute              : 'original',\n      data_srcset_attribute       : 'original-srcset',\n      skip_invisible              : true,\n      appear                      : emptyFn,\n      load                        : emptyFn,\n      vertical_only               : false,\n      check_appear_throttle_time  : 300,\n      url_rewriter_fn             : emptyFn,\n      no_fake_img_loader          : false,\n      placeholder_data_img        : 'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsQAAA7EAZUrDhsAAAANSURBVBhXYzh8+PB/AAffA0nNPuCLAAAAAElFTkSuQmCC',\n      // for IE6\\7 that does not support data image\n      placeholder_real_img        : 'http://ditu.baidu.cn/yyfm/lazyload/0.0.1/img/placeholder.png'\n      // todo : 将某些属性用global来配置，而不是每次在$(selector).lazyload({})内配置\n    },\n    type // function\n\n  function emptyFn(){}\n\n  type = (function(){\n    var object_prototype_toString = Object.prototype.toString\n    return function(obj){\n      // todo: compare the speeds of replace string twice or replace a regExp\n      return object_prototype_toString.call(obj).replace('[object ','').replace(']','')\n    }\n  })()\n\n  function belowthefold($element, options){\n    var fold\n    if(options._$container == $window){\n      fold = ('innerHeight' in w ? w.innerHeight : $window.height()) + $window.scrollTop()\n    }else{\n      fold = options._$container.offset().top + options._$container.height()\n    }\n    return fold <= $element.offset().top - options.threshold\n  }\n\n  function rightoffold($element, options){\n    var fold\n    if(options._$container == $window){\n      // Zepto do not support `$window.scrollLeft()` yet.\n      fold = $window.width() + ($.fn.scrollLeft?$window.scrollLeft():w.pageXOffset)\n    }else{\n      fold = options._$container.offset().left + options._$container.width()\n    }\n    return fold <= $element.offset().left - options.threshold\n  }\n\n  function abovethetop($element, options){\n    var fold\n    if(options._$container == $window){\n      fold = $window.scrollTop()\n    }else{\n      fold = options._$container.offset().top\n    }\n    // console.log('abovethetop fold '+ fold)\n    // console.log('abovethetop $element.height() '+ $element.height())\n    return fold >= $element.offset().top + options.threshold  + $element.height()\n  }\n\n  function leftofbegin($element, options){\n    var fold\n    if(options._$container == $window){\n      // Zepto do not support `$window.scrollLeft()` yet.\n      fold = $.fn.scrollLeft?$window.scrollLeft():w.pageXOffset\n    }else{\n      fold = options._$container.offset().left\n    }\n    return fold >= $element.offset().left + options.threshold + $element.width()\n  }\n\n  function checkAppear($elements, options){\n    var counter = 0\n    $elements.each(function(i,e){\n      var $element = $elements.eq(i)\n      if(($element.width() <= 0 && $element.height() <= 0) || $element.css('display') === 'none'){\n        return\n      }\n      function appear(){\n        $element.trigger('_lazyload_appear')\n        // if we found an image we'll load, reset the counter\n        counter = 0\n      }\n      // If vertical_only is set to true, only check the vertical to decide appear or not\n      // In most situations, page can only scroll vertically, set vertical_only to true will improve performance\n      if(options.vertical_only){\n        if(abovethetop($element, options)){\n          // Nothing.\n        }else if(!belowthefold($element, options)){\n          appear()\n        }else{\n          if(++counter > options.failure_limit){\n            return false\n          }\n        }\n      }else{\n        if(abovethetop($element, options) || leftofbegin($element, options)){\n          // Nothing.\n        }else if(!belowthefold($element, options) && !rightoffold($element, options)){\n          appear()\n        }else{\n          if(++counter > options.failure_limit){\n            return false\n          }\n        }\n      }\n    })\n  }\n\n  // Remove image from array so it is not looped next time.\n  function getUnloadElements($elements){\n    return $elements.filter(function(i,e){\n      return !$elements.eq(i)._lazyload_loadStarted\n    })\n  }\n\n  // throttle : https://github.com/component/throttle , MIT License\n  function throttle (func, wait) {\n    var ctx, args, rtn, timeoutID // caching\n    var last = 0\n\n    return function throttled () {\n      ctx = this\n      args = arguments\n      var delta = new Date() - last\n      if (!timeoutID)\n        if (delta >= wait) call()\n        else timeoutID = setTimeout(call, wait - delta)\n      return rtn\n    }\n\n    function call () {\n      timeoutID = 0\n      last = +new Date()\n      rtn = func.apply(ctx, args)\n      ctx = null\n      args = null\n    }\n  }\n\n  if(!$.fn.hasOwnProperty('lazyload')){\n\n    $.fn.lazyload = function(options){\n      var $elements = this,\n        isScrollEvent,\n        isScrollTypeEvent,\n        throttleCheckAppear\n\n      if(!$.isPlainObject(options)){\n        options = {}\n      }\n\n      $.each(defaultOptions,function(k,v){\n        if($.inArray(k,['threshold','failure_limit','check_appear_throttle_time']) != -1){ // these params can be a string\n          if(type(options[k]) == 'String'){\n            options[k] = parseInt(options[k],10)\n          }else{\n            options[k] = v\n          }\n        }else if(k == 'container'){ // options.container can be a seletor string \\ dom \\ jQuery object\n          if(options.hasOwnProperty(k)){\n            if(options[k] == w || options[k] == document){\n              options._$container = $window\n            }else{\n              options._$container = $(options[k])\n            }\n          }else{\n            options._$container = $window\n          }\n          delete options.container\n        }else if(defaultOptions.hasOwnProperty(k) && (!options.hasOwnProperty(k) || (type(options[k]) != type(defaultOptions[k])))){\n          options[k] = v\n        }\n      })\n\n      isScrollEvent = options.event == 'scroll'\n      throttleCheckAppear = options.check_appear_throttle_time == 0?\n        checkAppear\n        :throttle(checkAppear,options.check_appear_throttle_time)\n\n      // isScrollTypeEvent cantains custom scrollEvent . Such as 'scrollstart' & 'scrollstop'\n      // https://github.com/search?utf8=%E2%9C%93&q=scrollstart\n      isScrollTypeEvent = isScrollEvent || options.event == 'scrollstart' || options.event == 'scrollstop'\n\n      $elements.each(function(i,e){\n        var element = this,\n          $element = $elements.eq(i),\n          placeholderSrc = $element.attr('src'),\n          originalSrcInAttr = $element.attr('data-'+options.data_attribute), // `data-original` attribute value\n          originalSrc = options.url_rewriter_fn == emptyFn?\n            originalSrcInAttr:\n            options.url_rewriter_fn.call(element,$element,originalSrcInAttr),\n          originalSrcset = $element.attr('data-'+options.data_srcset_attribute),\n          isImg = $element.is('img')\n\n        if($element._lazyload_loadStarted == true || placeholderSrc == originalSrc){\n          $element._lazyload_loadStarted = true\n          $elements = getUnloadElements($elements)\n          return\n        }\n\n        $element._lazyload_loadStarted = false\n\n        // If element is an img and no src attribute given, use placeholder.\n        if(isImg && !placeholderSrc){\n          // For browsers that do not support data image.\n          $element.one('error',function(){ // `on` -> `one` : IE6 triggered twice error event sometimes\n            $element.attr('src',options.placeholder_real_img)\n          }).attr('src',options.placeholder_data_img)\n        }\n\n        // When appear is triggered load original image.\n        $element.one('_lazyload_appear',function(){\n          var effectParamsIsArray = $.isArray(options.effect_params),\n            effectIsNotImmediacyShow\n          function loadFunc(){\n            // In most situations, the effect is immediacy show, at this time there is no need to hide element first\n            // Hide this element may cause css reflow, call it as less as possible\n            if(effectIsNotImmediacyShow){\n              // todo: opacity:0 for fadeIn effect\n              $element.hide()\n            }\n            if(isImg){\n              // attr srcset first\n              if(originalSrcset){\n                $element.attr('srcset', originalSrcset)\n              }\n              if(originalSrc){\n                $element.attr('src', originalSrc)\n              }\n            }else{\n              $element.css('background-image','url(\"' + originalSrc + '\")')\n            }\n            if(effectIsNotImmediacyShow){\n              $element[options.effect].apply($element,effectParamsIsArray?options.effect_params:[])\n            }\n            $elements = getUnloadElements($elements)\n          }\n          if(!$element._lazyload_loadStarted){\n            effectIsNotImmediacyShow = (options.effect != 'show' && $.fn[options.effect] && (!options.effect_params || (effectParamsIsArray && options.effect_params.length == 0)))\n            if(options.appear != emptyFn){\n              options.appear.call(element, $element, $elements.length, options)\n            }\n            $element._lazyload_loadStarted = true\n            if(options.no_fake_img_loader || originalSrcset){\n              if(options.load != emptyFn){\n                $element.one('load',function(){\n                  options.load.call(element, $element, $elements.length, options)\n                })\n              }\n              loadFunc()\n            }else{\n              $('<img />').one('load', function(){ // `on` -> `one` : IE6 triggered twice load event sometimes\n                loadFunc()\n                if(options.load != emptyFn){\n                  options.load.call(element, $element, $elements.length, options)\n                }\n              }).attr('src',originalSrc)\n            }\n          }\n        })\n\n        // When wanted event is triggered load original image\n        // by triggering appear.\n        if (!isScrollTypeEvent){\n          $element.on(options.event, function(){\n            if (!$element._lazyload_loadStarted){\n              $element.trigger('_lazyload_appear')\n            }\n          })\n        }\n      })\n\n      // Fire one scroll event per scroll. Not one scroll event per image.\n      if(isScrollTypeEvent){\n        options._$container.on(options.event, function(){\n          throttleCheckAppear($elements, options)\n        })\n      }\n\n      // Check if something appears when window is resized.\n      // Force initial check if images should appear when window is onload.\n      $window.on('resize load', function(){\n        throttleCheckAppear($elements, options)\n      })\n\n      // Force initial check if images should appear.\n      $(function(){\n        throttleCheckAppear($elements, options)\n      })\n\n      return this\n    }\n  }\n}\n"]}